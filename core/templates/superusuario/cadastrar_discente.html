<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGE - Cadastrar Discentes</title>

    <link rel="stylesheet" href="cadastrar_discente.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>

<div class="container">

    <!-- CONTEÚDO -->
    <main>
        <div class="topo-formulario">
            <h1>cadastrar discentes</h1>
        </div>

        <div class="conteudo-principal-rolavel">

            <!-- PASSOS -->
            <div class="passos-indicadores">
                <span class="passo ativo" id="passo-1">1. Dados Pessoais</span>
                <span class="passo inativo" id="passo-2">2. Endereço</span>
                <span class="passo inativo" id="passo-3">3. Alocação</span>
            </div>

            <!-- FORM ÚNICO -->
            <form class="formulario" method="POST">

                <!-- ================= ETAPA 1 ================= -->
                <div class="etapa ativa" id="etapa-1">

                    <div class="caixa-texto">
                        <label>Nome</label>
                        <input type="text" placeholder="Digite o nome completo">
                    </div>

                    <div class="caixa-texto">
                        <label>CPF</label>
                        <input type="text" placeholder="Digite o CPF">
                    </div>

                    <div class="caixa-texto">
                        <label>E-mail</label>
                        <input type="email" placeholder="exemplo@email.com">
                    </div>

                    <div class="caixa-texto">
                        <label>Telefone</label>
                        <input type="tel" id="telefone" placeholder="(XX) XXXXX-XXXX">
                    </div>

                    <div class="caixa-texto">
                        <label>Nascimento</label>
                        <input type="date">
                    </div>

                    <div class="caixa-texto">
                        <label>Naturalidade</label>
                        <select>
                            <option disabled selected>Selecione</option>
                            <option>Brasileiro(a)</option>
                            <option>Estrangeiro(a)</option>
                        </select>
                    </div>

                    <div class="caixa-texto">
                        <label>Filiação 1</label>
                        <input type="text">
                    </div>

                    <div class="caixa-texto">
                        <label>Filiação 2</label>
                        <input type="text">
                    </div>

                    <div class="caixa-texto" id="necessidade-especial-container">
                        <label>Aluno com NE</label>
                        <div class="radio-opcoes-simples">
                            <input type="radio" name="ne" id="ne_sim">
                            <label for="ne_sim">Sim</label>

                            <input type="radio" name="ne" id="ne_nao" checked>
                            <label for="ne_nao">Não</label>
                        </div>
                    </div>

                    <div class="caixa-texto" id="descricao-ne-container" style="display:none;">
                        <label>Descrição</label>
                        <textarea></textarea>
                    </div>

                    <div class="botoes">
                        <button type="button" class="btn" onclick="proximaEtapa(1)">Próximo</button>
                    </div>
                </div>

                <!-- ================= ETAPA 2 ================= -->
                <div class="etapa" id="etapa-2">

                    <div class="caixa-texto">
                        <label>CEP</label>
                        <input type="text" id="cep">
                    </div>

                    <div class="caixa-texto">
                        <label>Estado</label>
                        <select id="estado">
                            <option disabled selected>UF</option>
                            <option>SP</option>
                            <option>RJ</option>
                        </select>
                    </div>

                    <div class="caixa-texto">
                        <label>Cidade</label>
                        <input type="text" id="cidade">
                    </div>

                    <div class="caixa-texto">
                        <label>Bairro</label>
                        <input type="text">
                    </div>

                    <div class="caixa-texto">
                        <label>Logradouro</label>
                        <input type="text">
                    </div>

                    <div class="caixa-texto">
                        <label>Número</label>
                        <input type="text">
                    </div>

                    <div class="botoes">
                        <button type="button" class="btn-voltar-tab" onclick="voltarEtapa(2)">Anterior</button>
                        <button type="button" class="btn" onclick="proximaEtapa(2)">Próximo</button>
                    </div>
                </div>

                <!-- ================= ETAPA 3 ================= -->
                <div class="etapa" id="etapa-3">

                    <div class="caixa-texto">
                        <label>Matrícula</label>
                        <input type="text">
                    </div>

                    <div class="caixa-texto">
                        <label>Turma</label>
                        <select>
                            <option>INFORMÁTICA</option>
                            <option>TSI</option>
                        </select>
                    </div>

                    <div class="caixa-texto">
                        <label>Senha</label>
                        <input type="password">
                    </div>

                    <div class="caixa-texto">
                        <label>Confirmar</label>
                        <input type="password">
                    </div>

                    <div class="botoes">
                        <button type="button" class="btn-voltar-tab" onclick="voltarEtapa(3)">Anterior</button>
                        <button type="submit" class="btn">Salvar Cadastro</button>
                    </div>
                </div>

            </form>
        </div>
    </main>
</div>

<!-- ================= JS ================= -->
<script>
/* MENU */
document.getElementById("menu-toggle").onclick = () => {
    document.getElementById("menu-lateral").classList.toggle("ativo");
};

/* MÁSCARA TELEFONE */
document.getElementById("telefone").addEventListener("input", e => {
    let v = e.target.value.replace(/\D/g, "");
    if (v.length > 2) v = "(" + v.substring(0,2) + ") " + v.substring(2);
    if (v.length > 10) v = v.substring(0,10) + "-" + v.substring(10,14);
    e.target.value = v;
});

/* MULTI STEP */
function proximaEtapa(n) {
    document.getElementById(`etapa-${n}`).classList.remove("ativa");
    document.getElementById(`etapa-${n+1}`).classList.add("ativa");

    document.getElementById(`passo-${n}`).classList.remove("ativo");
    document.getElementById(`passo-${n}`).classList.add("completo");
    document.getElementById(`passo-${n+1}`).classList.add("ativo");
}

function voltarEtapa(n) {
    document.getElementById(`etapa-${n}`).classList.remove("ativa");
    document.getElementById(`etapa-${n-1}`).classList.add("ativa");

    document.getElementById(`passo-${n}`).classList.remove("ativo");
    document.getElementById(`passo-${n-1}`).classList.add("ativo");
}

/* NECESSIDADE ESPECIAL */
document.getElementById("ne_sim").onchange = () => {
    document.getElementById("descricao-ne-container").style.display = "flex";
};
document.getElementById("ne_nao").onchange = () => {
    document.getElementById("descricao-ne-container").style.display = "none";
};
</script>

</body>
</html>
